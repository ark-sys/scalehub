[0m[2025-01-17T11:53:23.764461] [CLIENT] Received payload b'{"command": "START", "configs": "[\\"{\\\\n    \\\\\\"scalehub.inventory\\\\\\": \\\\\\"/app/conf/hosts\\\\\\",\\\\n    \\\\\\"scalehub.playbook\\\\\\": \\\\\\"/app/playbooks\\\\\\",\\\\n    \\\\\\"scalehub.experiments\\\\\\": \\\\\\"/app/experiments-data\\\\\\",\\\\n    \\\\\\"scalehub.debug_level\\\\\\": \\\\\\"3\\\\\\",\\\\n    \\\\\\"experiment.chaos.enable\\\\\\": \\\\\\"false\\\\\\",\\\\n    \\\\\\"experiment.chaos.affected_nodes_percentage\\\\\\": \\\\\\"70\\\\\\",\\\\n    \\\\\\"experiment.chaos.delay_latency_ms\\\\\\": \\\\\\"50\\\\\\",\\\\n    \\\\\\"experiment.chaos.delay_jitter_ms\\\\\\": \\\\\\"0\\\\\\",\\\\n    \\\\\\"experiment.chaos.delay_correlation\\\\\\": \\\\\\"0\\\\\\",\\\\n    \\\\\\"experiment.chaos.bandwidth_rate_mbps\\\\\\": \\\\\\"100\\\\\\",\\\\n    \\\\\\"experiment.chaos.bandwidth_limit\\\\\\": \\\\\\"10000\\\\\\",\\\\n    \\\\\\"experiment.chaos.bandwidth_buffer\\\\\\": \\\\\\"1000\\\\\\",\\\\n    \\\\\\"experiment.flink.checkpoint_interval_ms\\\\\\": \\\\\\"4000\\\\\\",\\\\n    \\\\\\"experiment.flink.window_size_ms\\\\\\": \\\\\\"1000\\\\\\",\\\\n    \\\\\\"experiment.flink.fibonacci_value\\\\\\": \\\\\\"18\\\\\\",\\\\n    \\\\\\"experiment.name\\\\\\": \\\\\\"Join\\\\\\",\\\\n    \\\\\\"experiment.job_file\\\\\\": \\\\\\"myjoin-transscale-all.jar\\\\\\",\\\\n    \\\\\\"experiment.task_name\\\\\\": \\\\\\"TumblingEventTimeWindows\\\\\\",\\\\n    \\\\\\"experiment.output_skip_s\\\\\\": \\\\\\"60\\\\\\",\\\\n    \\\\\\"experiment.output_stats\\\\\\": \\\\\\"true\\\\\\",\\\\n    \\\\\\"experiment.output_plot\\\\\\": \\\\\\"true\\\\\\",\\\\n    \\\\\\"experiment.broker_mqtt_host\\\\\\": \\\\\\"ingress.scalehub.local\\\\\\",\\\\n    \\\\\\"experiment.broker_mqtt_port\\\\\\": \\\\\\"30001\\\\\\",\\\\n    \\\\\\"experiment.kafka_partitions\\\\\\": \\\\\\"1000\\\\\\",\\\\n    \\\\\\"experiment.first_node\\\\\\": \\\\\\"grid5000\\\\\\",\\\\n    \\\\\\"experiment.unchained_tasks\\\\\\": \\\\\\"true\\\\\\",\\\\n    \\\\\\"experiment.type\\\\\\": \\\\\\"simple\\\\\\",\\\\n    \\\\\\"experiment.runs\\\\\\": \\\\\\"5\\\\\\",\\\\n    \\\\\\"experiment.comment\\\\\\": \\\\\\"\\\\\\\\\\\\\\"4 nodes: 2 BM + 2 pico\\\\\\\\\\\\\\"\\\\\\",\\\\n    \\\\\\"experiment.scaling.strategy_path\\\\\\": \\\\\\"/app/conf/experiment/strategy/mix_node_bm_pico_opt.yaml\\\\\\",\\\\n    \\\\\\"experiment.scaling.max_parallelism\\\\\\": 52,\\\\n    \\\\\\"experiment.scaling.interval_scaling_s\\\\\\": 240,\\\\n    \\\\\\"experiment.generators.generators\\\\\\": \\\\\\"generator1, generator2\\\\\\",\\\\n    \\\\\\"experiment.generators\\\\\\": [\\\\n        {\\\\n            \\\\\\"name\\\\\\": \\\\\\"generator1\\\\\\",\\\\n            \\\\\\"type\\\\\\": \\\\\\"theodolite-lg\\\\\\",\\\\n            \\\\\\"topic\\\\\\": \\\\\\"input-topic1\\\\\\",\\\\n            \\\\\\"num_sensors\\\\\\": 175000,\\\\n            \\\\\\"interval_ms\\\\\\": 1000,\\\\n            \\\\\\"replicas\\\\\\": 30,\\\\n            \\\\\\"value\\\\\\": 9001\\\\n        },\\\\n        {\\\\n            \\\\\\"name\\\\\\": \\\\\\"generator2\\\\\\",\\\\n            \\\\\\"type\\\\\\": \\\\\\"theodolite-lg\\\\\\",\\\\n            \\\\\\"topic\\\\\\": \\\\\\"input-topic2\\\\\\",\\\\n            \\\\\\"num_sensors\\\\\\": 175000,\\\\n            \\\\\\"interval_ms\\\\\\": 1000,\\\\n            \\\\\\"replicas\\\\\\": 30,\\\\n            \\\\\\"value\\\\\\": 9001\\\\n        }\\\\n    ],\\\\n    \\\\\\"experiment.scaling.steps\\\\\\": [\\\\n        {\\\\n            \\\\\\"node\\\\\\": \\\\\\"grid5000\\\\\\",\\\\n            \\\\\\"taskmanager\\\\\\": [\\\\n                {\\\\n                    \\\\\\"number\\\\\\": 52,\\\\n                    \\\\\\"type\\\\\\": \\\\\\"s\\\\\\",\\\\n                    \\\\\\"method\\\\\\": \\\\\\"block\\\\\\"\\\\n                }\\\\n            ]\\\\n        },\\\\n        {\\\\n            \\\\\\"node\\\\\\": \\\\\\"grid5000\\\\\\",\\\\n            \\\\\\"taskmanager\\\\\\": [\\\\n                {\\\\n                    \\\\\\"number\\\\\\": 52,\\\\n                    \\\\\\"type\\\\\\": \\\\\\"s\\\\\\",\\\\n                    \\\\\\"method\\\\\\": \\\\\\"block\\\\\\"\\\\n                }\\\\n            ]\\\\n        },\\\\n        {\\\\n            \\\\\\"node\\\\\\": \\\\\\"pico\\\\\\",\\\\n            \\\\\\"taskmanager\\\\\\": [\\\\n                {\\\\n                    \\\\\\"number\\\\\\": 3,\\\\n                    \\\\\\"type\\\\\\": \\\\\\"s\\\\\\",\\\\n                    \\\\\\"method\\\\\\": \\\\\\"block\\\\\\"\\\\n                }\\\\n            ]\\\\n        },\\\\n        {\\\\n            \\\\\\"node\\\\\\": \\\\\\"pico\\\\\\",\\\\n            \\\\\\"taskmanager\\\\\\": [\\\\n                {\\\\n                    \\\\\\"number\\\\\\": 3,\\\\n                    \\\\\\"type\\\\\\": \\\\\\"s\\\\\\",\\\\n                    \\\\\\"method\\\\\\": \\\\\\"block\\\\\\"\\\\n                }\\\\n            ]\\\\n        }\\\\n    ]\\\\n}\\"]"}'. Current state: States.IDLE.
[0m[2025-01-17T11:53:23.764642] [CLIENT] Received config: ["{\n    \"scalehub.inventory\": \"/app/conf/hosts\",\n    \"scalehub.playbook\": \"/app/playbooks\",\n    \"scalehub.experiments\": \"/app/experiments-data\",\n    \"scalehub.debug_level\": \"3\",\n    \"experiment.chaos.enable\": \"false\",\n    \"experiment.chaos.affected_nodes_percentage\": \"70\",\n    \"experiment.chaos.delay_latency_ms\": \"50\",\n    \"experiment.chaos.delay_jitter_ms\": \"0\",\n    \"experiment.chaos.delay_correlation\": \"0\",\n    \"experiment.chaos.bandwidth_rate_mbps\": \"100\",\n    \"experiment.chaos.bandwidth_limit\": \"10000\",\n    \"experiment.chaos.bandwidth_buffer\": \"1000\",\n    \"experiment.flink.checkpoint_interval_ms\": \"4000\",\n    \"experiment.flink.window_size_ms\": \"1000\",\n    \"experiment.flink.fibonacci_value\": \"18\",\n    \"experiment.name\": \"Join\",\n    \"experiment.job_file\": \"myjoin-transscale-all.jar\",\n    \"experiment.task_name\": \"TumblingEventTimeWindows\",\n    \"experiment.output_skip_s\": \"60\",\n    \"experiment.output_stats\": \"true\",\n    \"experiment.output_plot\": \"true\",\n    \"experiment.broker_mqtt_host\": \"ingress.scalehub.local\",\n    \"experiment.broker_mqtt_port\": \"30001\",\n    \"experiment.kafka_partitions\": \"1000\",\n    \"experiment.first_node\": \"grid5000\",\n    \"experiment.unchained_tasks\": \"true\",\n    \"experiment.type\": \"simple\",\n    \"experiment.runs\": \"5\",\n    \"experiment.comment\": \"\\\"4 nodes: 2 BM + 2 pico\\\"\",\n    \"experiment.scaling.strategy_path\": \"/app/conf/experiment/strategy/mix_node_bm_pico_opt.yaml\",\n    \"experiment.scaling.max_parallelism\": 52,\n    \"experiment.scaling.interval_scaling_s\": 240,\n    \"experiment.generators.generators\": \"generator1, generator2\",\n    \"experiment.generators\": [\n        {\n            \"name\": \"generator1\",\n            \"type\": \"theodolite-lg\",\n            \"topic\": \"input-topic1\",\n            \"num_sensors\": 175000,\n            \"interval_ms\": 1000,\n            \"replicas\": 30,\n            \"value\": 9001\n        },\n        {\n            \"name\": \"generator2\",\n            \"type\": \"theodolite-lg\",\n            \"topic\": \"input-topic2\",\n            \"num_sensors\": 175000,\n            \"interval_ms\": 1000,\n            \"replicas\": 30,\n            \"value\": 9001\n        }\n    ],\n    \"experiment.scaling.steps\": [\n        {\n            \"node\": \"grid5000\",\n            \"taskmanager\": [\n                {\n                    \"number\": 52,\n                    \"type\": \"s\",\n                    \"method\": \"block\"\n                }\n            ]\n        },\n        {\n            \"node\": \"grid5000\",\n            \"taskmanager\": [\n                {\n                    \"number\": 52,\n                    \"type\": \"s\",\n                    \"method\": \"block\"\n                }\n            ]\n        },\n        {\n            \"node\": \"pico\",\n            \"taskmanager\": [\n                {\n                    \"number\": 3,\n                    \"type\": \"s\",\n                    \"method\": \"block\"\n                }\n            ]\n        },\n        {\n            \"node\": \"pico\",\n            \"taskmanager\": [\n                {\n                    \"number\": 3,\n                    \"type\": \"s\",\n                    \"method\": \"block\"\n                }\n            ]\n        }\n    ]\n}"]
[0m[2025-01-17T11:53:23.764964] [FSM] Setting configs. Found 1 configs in sequence.
[0m[2025-01-17T11:53:23.765304] [FSM] Start phase with experiment: simple
[0m[2025-01-17T11:53:23.765388] [FSM] State is States.STARTING
[0m[2025-01-17T11:53:23.765497] [FSM] Creating experiment instance of type: simple
[0;93m[2025-01-17T11:53:23.765614] [WARNING] Error loading kubeconfig from ENV: Invalid kube-config file. No configuration found.[0m
[0;93m[2025-01-17T11:53:23.765620] [WARNING] Trying incluster config instead.[0m
[0m[2025-01-17T11:53:23.766927] [EXPERIMENT] Starting experiment.
[0m[2025-01-17T11:53:23.767221] [THRD] Starting thread.[0m[2025-01-17T11:53:23.767454] [FSM] FSM startup complete, transitioning to running.
[0m[2025-01-17T11:53:23.767550] [FSM] Run phase started.
[0m[2025-01-17T11:53:23.767561] [FSM] State is States.RUNNING[0m[2025-01-17T11:53:23.767721] [CLIENT] Received payload b''. Current state: States.RUNNING.


[0m[2025-01-17T11:53:23.767921] [EXPERIMENT] =================================== Starting run 1 ===================================
[0m[2025-01-17T11:53:23.768218] [EXPERIMENT] Running experiment.
[0m[2025-01-17T11:53:25.659231] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T11:53:27.511043] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T11:53:27.511122] [SCALING] Setting up experiment.


[0m[2025-01-17T11:53:27.511133] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T11:53:27.519387] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T11:53:27.531293] [SCALING] First node: paradoxe-7.rennes.grid5000.fr

[0m[2025-01-17T11:53:27.547657] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T11:53:27.558530] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 52 replica.
[0m[2025-01-17T11:53:32.566314] [FLK_MGR] Running job.
[0m[2025-01-17T11:53:32.566341] [FLK_MGR] Starting job with 52 parallelism.
[0m[2025-01-17T11:53:33.194648] [POD_MGR] Running command ['/bin/sh', '-c', 'flink run -d -j /tmp/jobs/myjoin-transscale-all.jar --start_par 52'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T11:53:37.319457] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Job has been submitted with JobID a449a2f4b9166ce199ab5d54906ffea9

[0m[2025-01-17T11:53:37.319502] [FLK_MGR] Running job id: a449a2f4b9166ce199ab5d54906ffea9
[0m[2025-01-17T11:53:37.319508] [FLK_MGR] Getting job info.
[0m[2025-01-17T11:53:37.338048] [FLK_MGR] Job plan response: {"plan":{"jid":"a449a2f4b9166ce199ab5d54906ffea9","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":52,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T11:53:37.338182] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T11:53:37.959366] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T11:53:39.371849] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 11:53:36 : a449a2f4b9166ce199ab5d54906ffea9 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T11:53:39.371904] [FLK_MGR] Running jobs: ['a449a2f4b9166ce199ab5d54906ffea9']
[0m[2025-01-17T11:53:39.371911] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T11:53:39.371922] [SCALING] First iteration after setup, just waiting...
[0m[2025-01-17T11:57:39.396704] [SCALING] Scaling started.
[0m[2025-01-17T11:57:39.396760] [SCALING] First node and first taskmanager already scaled, mark node as full. Continue to next step.

[0m[2025-01-17T11:57:39.416685] [SCALING] Next node: paradoxe-8.rennes.grid5000.fr

[0m[2025-01-17T11:57:39.426587] =========================================================== Step 1 ===========================================================
[0m[2025-01-17T11:57:39.426605] [SCALING] Scaling on node : grid5000
[0m[2025-01-17T11:57:39.426618] [SCALING] Adding 52 replicas of s taskmanager.
[0m[2025-01-17T11:57:39.430739] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T11:57:39.439862] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 52, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T11:57:39.449679] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 104 replica.
[0m[2025-01-17T11:57:44.466640] [SCALING] ************************************ Adding 104 replicas ************************************
[0m[2025-01-17T11:57:44.466670] [FLK_MGR] Running job.
[0m[2025-01-17T11:57:44.466675] [FLK_MGR] Rescaling job to 104.
[0m[2025-01-17T11:57:45.237366] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d a449a2f4b9166ce199ab5d54906ffea9'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T11:57:49.312476] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-a449a2-8d5207acde90
[0m[2025-01-17T11:58:09.088623] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-a449a2-8d5207acde90 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T11:58:12.170833] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 104.
[0m[2025-01-17T11:58:12.170870] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 104
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 8814092631b8b9ac39dc3724a877a382

[0m[2025-01-17T11:58:12.170887] [FLK_MGR] Running job id: 8814092631b8b9ac39dc3724a877a382
[0m[2025-01-17T11:58:12.170893] [FLK_MGR] Getting job info.
[0m[2025-01-17T11:58:12.211543] [FLK_MGR] Job plan response: {"plan":{"jid":"8814092631b8b9ac39dc3724a877a382","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":104,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T11:58:12.211682] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T11:58:13.099614] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T11:58:14.874146] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 11:58:11 : 8814092631b8b9ac39dc3724a877a382 : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T11:58:14.874216] [FLK_MGR] Running jobs: ['8814092631b8b9ac39dc3724a877a382']
[0m[2025-01-17T11:58:14.874225] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T11:58:14.881159] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:02:14.906272] [SCALING] Scaling step on node paradoxe-8.rennes.grid5000.fr finished. Marking node as full.
[0m[2025-01-17T12:02:19.932247] [SCALING] Next node: pico2-0

[0m[2025-01-17T12:02:19.942446] =========================================================== Step 2 ===========================================================
[0m[2025-01-17T12:02:19.942463] [SCALING] Scaling on node : pico
[0m[2025-01-17T12:02:19.942471] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T12:02:19.947010] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:02:19.955922] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 104, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:02:19.965031] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 107 replica.
[0m[2025-01-17T12:02:24.983471] [SCALING] ************************************ Adding 107 replicas ************************************
[0m[2025-01-17T12:02:24.983497] [FLK_MGR] Running job.
[0m[2025-01-17T12:02:24.983501] [FLK_MGR] Rescaling job to 107.
[0m[2025-01-17T12:02:25.777254] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 8814092631b8b9ac39dc3724a877a382'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T12:02:31.820369] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-881409-3d20e412b451
[0m[2025-01-17T12:02:51.446331] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-881409-3d20e412b451 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T12:02:54.454285] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 107.
[0m[2025-01-17T12:02:54.454339] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 107
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID e2ee9c22003acc1610666798cddaf95b

[0m[2025-01-17T12:02:54.454374] [FLK_MGR] Running job id: e2ee9c22003acc1610666798cddaf95b
[0m[2025-01-17T12:02:54.454383] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:02:54.461114] [FLK_MGR] Job plan response: {"plan":{"jid":"e2ee9c22003acc1610666798cddaf95b","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":107,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:02:54.461294] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:02:55.226267] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T12:02:56.686877] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:02:54 : e2ee9c22003acc1610666798cddaf95b : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T12:02:56.686949] [FLK_MGR] Running jobs: ['e2ee9c22003acc1610666798cddaf95b']
[0m[2025-01-17T12:02:56.686959] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:03:16.731105] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:07:16.753790] [SCALING] Scaling step on node pico2-0 finished. Marking node as full.
[0m[2025-01-17T12:07:21.777909] [SCALING] Next node: pico2-1

[0m[2025-01-17T12:07:21.788430] =========================================================== Step 3 ===========================================================
[0m[2025-01-17T12:07:21.788452] [SCALING] Scaling on node : pico
[0m[2025-01-17T12:07:21.788460] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T12:07:21.792562] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:07:21.801158] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 107, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:07:21.810672] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 110 replica.
[0m[2025-01-17T12:07:26.828984] [SCALING] ************************************ Adding 110 replicas ************************************
[0m[2025-01-17T12:07:26.829010] [FLK_MGR] Running job.
[0m[2025-01-17T12:07:26.829015] [FLK_MGR] Rescaling job to 110.
[0m[2025-01-17T12:07:27.609745] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d e2ee9c22003acc1610666798cddaf95b'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T12:07:33.680834] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-e2ee9c-1560613e8a07
[0m[2025-01-17T12:07:53.432271] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-e2ee9c-1560613e8a07 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T12:07:56.351428] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 110.
[0m[2025-01-17T12:07:56.351462] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 110
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 3ae5fa3ad669b1999c2fb7b79b978acc

[0m[2025-01-17T12:07:56.351481] [FLK_MGR] Running job id: 3ae5fa3ad669b1999c2fb7b79b978acc
[0m[2025-01-17T12:07:56.351488] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:07:56.359158] [FLK_MGR] Job plan response: {"plan":{"jid":"3ae5fa3ad669b1999c2fb7b79b978acc","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":110,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:07:56.359311] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:07:57.134507] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-ws6k6
[0m[2025-01-17T12:07:58.604976] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:07:56 : 3ae5fa3ad669b1999c2fb7b79b978acc : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T12:07:58.605033] [FLK_MGR] Running jobs: ['3ae5fa3ad669b1999c2fb7b79b978acc']
[0m[2025-01-17T12:07:58.605040] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:08:18.651646] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:12:18.674169] [SCALING] Scaling step on node pico2-1 finished. Marking node as full.
[0m[2025-01-17T12:12:23.686407] [SCALING] Scaling finished.
[0m[2025-01-17T12:12:23.686500] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T12:12:23.740634] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T12:12:23.787551] [STS_MGR] Resetting taskmanagers.
[0m[2025-01-17T12:12:23.809763] [STS_MGR] StatefulSet flink-taskmanager-l scaled to 0 replica.
[0m[2025-01-17T12:12:23.821513] [STS_MGR] StatefulSet flink-taskmanager-m scaled to 0 replica.
[0m[2025-01-17T12:12:23.833085] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 0 replica.
[0m[2025-01-17T12:12:33.857633] [STS_MGR] StatefulSet flink-taskmanager-xl scaled to 0 replica.
[0m[2025-01-17T12:12:33.870163] [STS_MGR] StatefulSet flink-taskmanager-xxl scaled to 0 replica.
[0m[2025-01-17T12:12:33.894680] [POD_MGR] Pod flink-jobmanager-7d7c784b74-ws6k6 deleted
[0m[2025-01-17T12:12:35.791135] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T12:12:37.717069] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T12:12:37.717159] Reloading playbook: application/kafka
[0m[2025-01-17T12:12:43.637306] Playbook /app/playbooks/application/kafka.yaml with tag delete executed successfully.
[0m[2025-01-17T12:13:29.564648] Playbook /app/playbooks/application/kafka.yaml with tag create executed successfully.
[0m[2025-01-17T12:13:29.564873] [EXPERIMENT] Run 1 completed. Start: 1737114803, End: 1737116009
[0m[2025-01-17T12:13:29.564879] [EXPERIMENT] Sleeping for 10 seconds before next run.
[0m[2025-01-17T12:13:39.565855] [EXPERIMENT] =================================== Starting run 2 ===================================
[0m[2025-01-17T12:13:41.430703] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T12:13:43.292043] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T12:13:43.292118] [SCALING] Setting up experiment.


[0m[2025-01-17T12:13:43.292128] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T12:13:43.297213] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T12:13:43.309417] [SCALING] First node: paradoxe-7.rennes.grid5000.fr

[0m[2025-01-17T12:13:43.324430] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:13:43.334652] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 52 replica.
[0m[2025-01-17T12:13:48.343671] [FLK_MGR] Running job.
[0m[2025-01-17T12:13:48.343703] [FLK_MGR] Starting job with 52 parallelism.
[0m[2025-01-17T12:13:48.983645] [POD_MGR] Running command ['/bin/sh', '-c', 'flink run -d -j /tmp/jobs/myjoin-transscale-all.jar --start_par 52'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:13:53.141069] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Job has been submitted with JobID 25d9afa5b6d3b4fe1e2d80d59fb35ff1

[0m[2025-01-17T12:13:53.141121] [FLK_MGR] Running job id: 25d9afa5b6d3b4fe1e2d80d59fb35ff1
[0m[2025-01-17T12:13:53.141128] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:13:53.159200] [FLK_MGR] Job plan response: {"plan":{"jid":"25d9afa5b6d3b4fe1e2d80d59fb35ff1","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":52,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:13:53.159357] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:13:53.783207] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:13:55.206579] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:13:52 : 25d9afa5b6d3b4fe1e2d80d59fb35ff1 : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T12:13:55.206631] [FLK_MGR] Running jobs: ['25d9afa5b6d3b4fe1e2d80d59fb35ff1']
[0m[2025-01-17T12:13:55.206638] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:13:55.206646] [SCALING] First iteration after setup, just waiting...
[0m[2025-01-17T12:17:55.229441] [SCALING] Scaling started.
[0m[2025-01-17T12:17:55.229541] [SCALING] First node and first taskmanager already scaled, mark node as full. Continue to next step.

[0m[2025-01-17T12:17:55.249377] [SCALING] Next node: paradoxe-8.rennes.grid5000.fr

[0m[2025-01-17T12:17:55.260051] =========================================================== Step 1 ===========================================================
[0m[2025-01-17T12:17:55.260074] [SCALING] Scaling on node : grid5000
[0m[2025-01-17T12:17:55.260086] [SCALING] Adding 52 replicas of s taskmanager.
[0m[2025-01-17T12:17:55.264716] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:17:55.273496] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 52, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:17:55.284591] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 104 replica.
[0m[2025-01-17T12:18:00.304232] [SCALING] ************************************ Adding 104 replicas ************************************
[0m[2025-01-17T12:18:00.304262] [FLK_MGR] Running job.
[0m[2025-01-17T12:18:00.304267] [FLK_MGR] Rescaling job to 104.
[0m[2025-01-17T12:18:01.051238] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 25d9afa5b6d3b4fe1e2d80d59fb35ff1'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:18:03.842676] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-25d9af-8d45f4420202
[0m[2025-01-17T12:18:23.598649] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-25d9af-8d45f4420202 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:18:26.721374] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 104.
[0m[2025-01-17T12:18:26.721420] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 104
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID c18e49d114d6094f613056a23547e43d

[0m[2025-01-17T12:18:26.721441] [FLK_MGR] Running job id: c18e49d114d6094f613056a23547e43d
[0m[2025-01-17T12:18:26.721447] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:18:26.727842] [FLK_MGR] Job plan response: {"plan":{"jid":"c18e49d114d6094f613056a23547e43d","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":104,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:18:26.728034] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:18:27.621212] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:18:29.497553] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:18:26 : c18e49d114d6094f613056a23547e43d : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T12:18:29.497619] [FLK_MGR] Running jobs: ['c18e49d114d6094f613056a23547e43d']
[0m[2025-01-17T12:18:29.497627] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:18:29.504249] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:22:29.530319] [SCALING] Scaling step on node paradoxe-8.rennes.grid5000.fr finished. Marking node as full.
[0m[2025-01-17T12:22:34.555753] [SCALING] Next node: pico2-0

[0m[2025-01-17T12:22:34.565361] =========================================================== Step 2 ===========================================================
[0m[2025-01-17T12:22:34.565377] [SCALING] Scaling on node : pico
[0m[2025-01-17T12:22:34.565385] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T12:22:34.569990] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:22:34.579555] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 104, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:22:34.591797] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 107 replica.
[0m[2025-01-17T12:22:39.610339] [SCALING] ************************************ Adding 107 replicas ************************************
[0m[2025-01-17T12:22:39.610363] [FLK_MGR] Running job.
[0m[2025-01-17T12:22:39.610368] [FLK_MGR] Rescaling job to 107.
[0m[2025-01-17T12:22:40.399943] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d c18e49d114d6094f613056a23547e43d'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:22:43.155002] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-c18e49-7c8f3fcb06b8
[0m[2025-01-17T12:23:02.940848] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-c18e49-7c8f3fcb06b8 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:23:05.840730] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 107.
[0m[2025-01-17T12:23:05.840765] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 107
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 375a07b06a14e62f9ed5c79392c57df2

[0m[2025-01-17T12:23:05.840781] [FLK_MGR] Running job id: 375a07b06a14e62f9ed5c79392c57df2
[0m[2025-01-17T12:23:05.840787] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:23:05.847691] [FLK_MGR] Job plan response: {"plan":{"jid":"375a07b06a14e62f9ed5c79392c57df2","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":107,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:23:05.847864] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:23:06.603779] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:23:08.031291] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:23:05 : 375a07b06a14e62f9ed5c79392c57df2 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T12:23:08.031354] [FLK_MGR] Running jobs: ['375a07b06a14e62f9ed5c79392c57df2']
[0m[2025-01-17T12:23:08.031361] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:23:43.100649] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:27:43.126043] [SCALING] Scaling step on node pico2-0 finished. Marking node as full.
[0m[2025-01-17T12:27:48.152824] [SCALING] Next node: pico2-1

[0m[2025-01-17T12:27:48.163633] =========================================================== Step 3 ===========================================================
[0m[2025-01-17T12:27:48.163659] [SCALING] Scaling on node : pico
[0m[2025-01-17T12:27:48.163673] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T12:27:48.168439] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:27:48.177440] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 107, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:27:48.188918] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 110 replica.
[0m[2025-01-17T12:27:53.209505] [SCALING] ************************************ Adding 110 replicas ************************************
[0m[2025-01-17T12:27:53.209541] [FLK_MGR] Running job.
[0m[2025-01-17T12:27:53.209546] [FLK_MGR] Rescaling job to 110.
[0m[2025-01-17T12:27:53.870572] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 375a07b06a14e62f9ed5c79392c57df2'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:28:01.914451] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-375a07-ae9e54771959
[0m[2025-01-17T12:28:21.729972] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-375a07-ae9e54771959 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:28:24.543425] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 110.
[0m[2025-01-17T12:28:24.543459] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 110
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID e9bd5bbaf3dcc061ec3e59780c88a0a1

[0m[2025-01-17T12:28:24.543480] [FLK_MGR] Running job id: e9bd5bbaf3dcc061ec3e59780c88a0a1
[0m[2025-01-17T12:28:24.543487] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:28:24.551873] [FLK_MGR] Job plan response: {"plan":{"jid":"e9bd5bbaf3dcc061ec3e59780c88a0a1","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":110,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:28:24.552201] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:28:25.318783] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-xwkbv
[0m[2025-01-17T12:28:26.785681] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:28:24 : e9bd5bbaf3dcc061ec3e59780c88a0a1 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T12:28:26.785736] [FLK_MGR] Running jobs: ['e9bd5bbaf3dcc061ec3e59780c88a0a1']
[0m[2025-01-17T12:28:26.785744] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:28:46.822129] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:32:46.846736] [SCALING] Scaling step on node pico2-1 finished. Marking node as full.
[0m[2025-01-17T12:32:51.858344] [SCALING] Scaling finished.
[0m[2025-01-17T12:32:51.858400] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T12:32:51.908630] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T12:32:51.959001] [STS_MGR] Resetting taskmanagers.
[0m[2025-01-17T12:32:51.977508] [STS_MGR] StatefulSet flink-taskmanager-l scaled to 0 replica.
[0m[2025-01-17T12:32:51.990306] [STS_MGR] StatefulSet flink-taskmanager-m scaled to 0 replica.
[0m[2025-01-17T12:32:52.003906] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 0 replica.
[0m[2025-01-17T12:33:02.025075] [STS_MGR] StatefulSet flink-taskmanager-xl scaled to 0 replica.
[0m[2025-01-17T12:33:02.039017] [STS_MGR] StatefulSet flink-taskmanager-xxl scaled to 0 replica.
[0m[2025-01-17T12:33:02.061596] [POD_MGR] Pod flink-jobmanager-7d7c784b74-xwkbv deleted
[0m[2025-01-17T12:33:03.906336] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T12:33:05.799578] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T12:33:05.799716] Reloading playbook: application/kafka
[0m[2025-01-17T12:33:11.752471] Playbook /app/playbooks/application/kafka.yaml with tag delete executed successfully.
[0m[2025-01-17T12:33:57.711470] Playbook /app/playbooks/application/kafka.yaml with tag create executed successfully.
[0m[2025-01-17T12:33:57.711728] [EXPERIMENT] Run 2 completed. Start: 1737116019, End: 1737117237
[0m[2025-01-17T12:33:57.711736] [EXPERIMENT] Sleeping for 10 seconds before next run.
[0m[2025-01-17T12:34:07.712736] [EXPERIMENT] =================================== Starting run 3 ===================================
[0m[2025-01-17T12:34:09.559842] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T12:34:11.424256] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T12:34:11.424341] [SCALING] Setting up experiment.


[0m[2025-01-17T12:34:11.424350] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T12:34:11.429973] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T12:34:11.443097] [SCALING] First node: paradoxe-7.rennes.grid5000.fr

[0m[2025-01-17T12:34:11.457760] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:34:11.468106] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 52 replica.
[0m[2025-01-17T12:34:16.476675] [FLK_MGR] Running job.
[0m[2025-01-17T12:34:16.476704] [FLK_MGR] Starting job with 52 parallelism.
[0m[2025-01-17T12:34:17.130902] [POD_MGR] Running command ['/bin/sh', '-c', 'flink run -d -j /tmp/jobs/myjoin-transscale-all.jar --start_par 52'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:34:21.245741] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Job has been submitted with JobID c9adcf5c6239ae3cbb730c90fffdb31a

[0m[2025-01-17T12:34:21.245788] [FLK_MGR] Running job id: c9adcf5c6239ae3cbb730c90fffdb31a
[0m[2025-01-17T12:34:21.245797] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:34:21.263646] [FLK_MGR] Job plan response: {"plan":{"jid":"c9adcf5c6239ae3cbb730c90fffdb31a","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":52,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:34:21.263816] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:34:21.896032] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:34:23.306807] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:34:20 : c9adcf5c6239ae3cbb730c90fffdb31a : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T12:34:23.306871] [FLK_MGR] Running jobs: ['c9adcf5c6239ae3cbb730c90fffdb31a']
[0m[2025-01-17T12:34:23.306878] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:34:23.306885] [SCALING] First iteration after setup, just waiting...
[0m[2025-01-17T12:38:23.332318] [SCALING] Scaling started.
[0m[2025-01-17T12:38:23.332386] [SCALING] First node and first taskmanager already scaled, mark node as full. Continue to next step.

[0m[2025-01-17T12:38:23.352061] [SCALING] Next node: paradoxe-8.rennes.grid5000.fr

[0m[2025-01-17T12:38:23.362584] =========================================================== Step 1 ===========================================================
[0m[2025-01-17T12:38:23.362604] [SCALING] Scaling on node : grid5000
[0m[2025-01-17T12:38:23.362615] [SCALING] Adding 52 replicas of s taskmanager.
[0m[2025-01-17T12:38:23.367116] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:38:23.376684] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 52, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:38:23.387633] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 104 replica.
[0m[2025-01-17T12:38:28.407797] [SCALING] ************************************ Adding 104 replicas ************************************
[0m[2025-01-17T12:38:28.407827] [FLK_MGR] Running job.
[0m[2025-01-17T12:38:28.407832] [FLK_MGR] Rescaling job to 104.
[0m[2025-01-17T12:38:29.175145] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d c9adcf5c6239ae3cbb730c90fffdb31a'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:38:31.949213] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-c9adcf-dae79cca3c8c
[0m[2025-01-17T12:38:51.713512] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-c9adcf-dae79cca3c8c -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:38:54.736216] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 104.
[0m[2025-01-17T12:38:54.736268] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 104
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 36b6874d30f96908d5c6f8ca58543ed5

[0m[2025-01-17T12:38:54.736293] [FLK_MGR] Running job id: 36b6874d30f96908d5c6f8ca58543ed5
[0m[2025-01-17T12:38:54.736301] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:38:54.743026] [FLK_MGR] Job plan response: {"plan":{"jid":"36b6874d30f96908d5c6f8ca58543ed5","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":104,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:38:54.743232] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:38:55.588810] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:38:57.354982] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:38:54 : 36b6874d30f96908d5c6f8ca58543ed5 : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T12:38:57.355061] [FLK_MGR] Running jobs: ['36b6874d30f96908d5c6f8ca58543ed5']
[0m[2025-01-17T12:38:57.355070] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:38:57.361530] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:42:57.385817] [SCALING] Scaling step on node paradoxe-8.rennes.grid5000.fr finished. Marking node as full.
[0m[2025-01-17T12:43:02.411796] [SCALING] Next node: pico2-0

[0m[2025-01-17T12:43:02.421739] =========================================================== Step 2 ===========================================================
[0m[2025-01-17T12:43:02.421765] [SCALING] Scaling on node : pico
[0m[2025-01-17T12:43:02.421777] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T12:43:02.426455] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:43:02.435694] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 104, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:43:02.444786] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 107 replica.
[0m[2025-01-17T12:43:07.462703] [SCALING] ************************************ Adding 107 replicas ************************************
[0m[2025-01-17T12:43:07.462737] [FLK_MGR] Running job.
[0m[2025-01-17T12:43:07.462742] [FLK_MGR] Rescaling job to 107.
[0m[2025-01-17T12:43:08.342927] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 36b6874d30f96908d5c6f8ca58543ed5'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:43:11.081750] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-36b687-7034512d0f8e
[0m[2025-01-17T12:43:30.702890] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-36b687-7034512d0f8e -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:43:33.667783] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 107.
[0m[2025-01-17T12:43:33.667820] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 107
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 1ca5620083a4136fbe3bdfed78ea89b7

[0m[2025-01-17T12:43:33.667847] [FLK_MGR] Running job id: 1ca5620083a4136fbe3bdfed78ea89b7
[0m[2025-01-17T12:43:33.667855] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:43:33.674525] [FLK_MGR] Job plan response: {"plan":{"jid":"1ca5620083a4136fbe3bdfed78ea89b7","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":107,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:43:33.674702] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:43:34.419953] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:43:35.864251] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:43:33 : 1ca5620083a4136fbe3bdfed78ea89b7 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T12:43:35.864308] [FLK_MGR] Running jobs: ['1ca5620083a4136fbe3bdfed78ea89b7']
[0m[2025-01-17T12:43:35.864317] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:44:10.938567] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:48:10.963103] [SCALING] Scaling step on node pico2-0 finished. Marking node as full.
[0m[2025-01-17T12:48:15.990061] [SCALING] Next node: pico2-1

[0m[2025-01-17T12:48:15.999945] =========================================================== Step 3 ===========================================================
[0m[2025-01-17T12:48:15.999968] [SCALING] Scaling on node : pico
[0m[2025-01-17T12:48:15.999980] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T12:48:16.004608] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:48:16.013974] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 107, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:48:16.023941] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 110 replica.
[0m[2025-01-17T12:48:21.043139] [SCALING] ************************************ Adding 110 replicas ************************************
[0m[2025-01-17T12:48:21.043174] [FLK_MGR] Running job.
[0m[2025-01-17T12:48:21.043179] [FLK_MGR] Rescaling job to 110.
[0m[2025-01-17T12:48:21.806609] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 1ca5620083a4136fbe3bdfed78ea89b7'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:48:31.862542] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-1ca562-fe4917107e55
[0m[2025-01-17T12:48:51.609595] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-1ca562-fe4917107e55 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:48:54.482707] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 110.
[0m[2025-01-17T12:48:54.482740] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 110
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 15f521380c75bcfa05292ba9c61d1fd3

[0m[2025-01-17T12:48:54.482760] [FLK_MGR] Running job id: 15f521380c75bcfa05292ba9c61d1fd3
[0m[2025-01-17T12:48:54.482766] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:48:54.487396] [FLK_MGR] Job plan response: {"plan":{"jid":"15f521380c75bcfa05292ba9c61d1fd3","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":110,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:48:54.487521] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:48:55.282204] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-cqrf4
[0m[2025-01-17T12:48:56.709550] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:48:54 : 15f521380c75bcfa05292ba9c61d1fd3 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T12:48:56.709612] [FLK_MGR] Running jobs: ['15f521380c75bcfa05292ba9c61d1fd3']
[0m[2025-01-17T12:48:56.709619] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:49:11.736648] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T12:53:11.759947] [SCALING] Scaling step on node pico2-1 finished. Marking node as full.
[0m[2025-01-17T12:53:16.772549] [SCALING] Scaling finished.
[0m[2025-01-17T12:53:16.772713] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T12:53:16.825509] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T12:53:16.874677] [STS_MGR] Resetting taskmanagers.
[0m[2025-01-17T12:53:16.894642] [STS_MGR] StatefulSet flink-taskmanager-l scaled to 0 replica.
[0m[2025-01-17T12:53:16.908314] [STS_MGR] StatefulSet flink-taskmanager-m scaled to 0 replica.
[0m[2025-01-17T12:53:16.920336] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 0 replica.
[0m[2025-01-17T12:53:26.944877] [STS_MGR] StatefulSet flink-taskmanager-xl scaled to 0 replica.
[0m[2025-01-17T12:53:26.958703] [STS_MGR] StatefulSet flink-taskmanager-xxl scaled to 0 replica.
[0m[2025-01-17T12:53:26.981999] [POD_MGR] Pod flink-jobmanager-7d7c784b74-cqrf4 deleted
[0m[2025-01-17T12:53:28.881488] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T12:53:30.827118] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T12:53:30.827218] Reloading playbook: application/kafka
[0m[2025-01-17T12:53:36.755472] Playbook /app/playbooks/application/kafka.yaml with tag delete executed successfully.
[0m[2025-01-17T12:54:22.682169] Playbook /app/playbooks/application/kafka.yaml with tag create executed successfully.
[0m[2025-01-17T12:54:22.682370] [EXPERIMENT] Run 3 completed. Start: 1737117247, End: 1737118462
[0m[2025-01-17T12:54:22.682377] [EXPERIMENT] Sleeping for 10 seconds before next run.
[0m[2025-01-17T12:54:32.683441] [EXPERIMENT] =================================== Starting run 4 ===================================
[0m[2025-01-17T12:54:34.540243] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T12:54:36.404021] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T12:54:36.404092] [SCALING] Setting up experiment.


[0m[2025-01-17T12:54:36.404103] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T12:54:36.409102] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T12:54:36.422691] [SCALING] First node: paradoxe-7.rennes.grid5000.fr

[0m[2025-01-17T12:54:36.440158] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:54:36.451362] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 52 replica.
[0m[2025-01-17T12:54:41.460720] [FLK_MGR] Running job.
[0m[2025-01-17T12:54:41.460751] [FLK_MGR] Starting job with 52 parallelism.
[0m[2025-01-17T12:54:42.170737] [POD_MGR] Running command ['/bin/sh', '-c', 'flink run -d -j /tmp/jobs/myjoin-transscale-all.jar --start_par 52'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T12:54:46.292094] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Job has been submitted with JobID 656b674caea873e53b608e9a5932d23d

[0m[2025-01-17T12:54:46.292139] [FLK_MGR] Running job id: 656b674caea873e53b608e9a5932d23d
[0m[2025-01-17T12:54:46.292147] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:54:46.309918] [FLK_MGR] Job plan response: {"plan":{"jid":"656b674caea873e53b608e9a5932d23d","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":52,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:54:46.310151] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:54:46.975833] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T12:54:48.425754] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:54:45 : 656b674caea873e53b608e9a5932d23d : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T12:54:48.425813] [FLK_MGR] Running jobs: ['656b674caea873e53b608e9a5932d23d']
[0m[2025-01-17T12:54:48.425821] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:54:48.425833] [SCALING] First iteration after setup, just waiting...
[0m[2025-01-17T12:58:48.448700] [SCALING] Scaling started.
[0m[2025-01-17T12:58:48.448757] [SCALING] First node and first taskmanager already scaled, mark node as full. Continue to next step.

[0m[2025-01-17T12:58:48.471979] [SCALING] Next node: paradoxe-8.rennes.grid5000.fr

[0m[2025-01-17T12:58:48.484521] =========================================================== Step 1 ===========================================================
[0m[2025-01-17T12:58:48.484539] [SCALING] Scaling on node : grid5000
[0m[2025-01-17T12:58:48.484551] [SCALING] Adding 52 replicas of s taskmanager.
[0m[2025-01-17T12:58:48.489435] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T12:58:48.498797] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 52, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T12:58:48.509618] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 104 replica.
[0m[2025-01-17T12:58:53.529381] [SCALING] ************************************ Adding 104 replicas ************************************
[0m[2025-01-17T12:58:53.529409] [FLK_MGR] Running job.
[0m[2025-01-17T12:58:53.529414] [FLK_MGR] Rescaling job to 104.
[0m[2025-01-17T12:58:54.283912] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 656b674caea873e53b608e9a5932d23d'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T12:58:57.076751] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-656b67-6782f9ddd4af
[0m[2025-01-17T12:59:16.859655] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-656b67-6782f9ddd4af -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T12:59:20.023168] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 104.
[0m[2025-01-17T12:59:20.023204] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 104
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID b6f833dac013492ddc592da824495c7a

[0m[2025-01-17T12:59:20.023223] [FLK_MGR] Running job id: b6f833dac013492ddc592da824495c7a
[0m[2025-01-17T12:59:20.023229] [FLK_MGR] Getting job info.
[0m[2025-01-17T12:59:20.030237] [FLK_MGR] Job plan response: {"plan":{"jid":"b6f833dac013492ddc592da824495c7a","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":104,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T12:59:20.030419] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T12:59:20.939008] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T12:59:22.583506] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 12:59:19 : b6f833dac013492ddc592da824495c7a : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T12:59:22.583574] [FLK_MGR] Running jobs: ['b6f833dac013492ddc592da824495c7a']
[0m[2025-01-17T12:59:22.583582] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T12:59:22.590876] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T13:03:22.613851] [SCALING] Scaling step on node paradoxe-8.rennes.grid5000.fr finished. Marking node as full.
[0m[2025-01-17T13:03:27.644004] [SCALING] Next node: pico2-0

[0m[2025-01-17T13:03:27.655544] =========================================================== Step 2 ===========================================================
[0m[2025-01-17T13:03:27.655563] [SCALING] Scaling on node : pico
[0m[2025-01-17T13:03:27.655572] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T13:03:27.660181] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T13:03:27.671398] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 104, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T13:03:27.681471] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 107 replica.
[0m[2025-01-17T13:03:32.700749] [SCALING] ************************************ Adding 107 replicas ************************************
[0m[2025-01-17T13:03:32.700777] [FLK_MGR] Running job.
[0m[2025-01-17T13:03:32.700782] [FLK_MGR] Rescaling job to 107.
[0m[2025-01-17T13:03:33.478470] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d b6f833dac013492ddc592da824495c7a'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T13:03:36.280986] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-b6f833-547df63c1a6c
[0m[2025-01-17T13:03:55.899268] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-b6f833-547df63c1a6c -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T13:03:58.835801] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 107.
[0m[2025-01-17T13:03:58.835838] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 107
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 9506839096aa0438f69db839ed1ddc13

[0m[2025-01-17T13:03:58.835857] [FLK_MGR] Running job id: 9506839096aa0438f69db839ed1ddc13
[0m[2025-01-17T13:03:58.835862] [FLK_MGR] Getting job info.
[0m[2025-01-17T13:03:58.844978] [FLK_MGR] Job plan response: {"plan":{"jid":"9506839096aa0438f69db839ed1ddc13","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":107,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T13:03:58.845173] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T13:03:59.598979] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T13:04:01.093896] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 13:03:58 : 9506839096aa0438f69db839ed1ddc13 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T13:04:01.093959] [FLK_MGR] Running jobs: ['9506839096aa0438f69db839ed1ddc13']
[0m[2025-01-17T13:04:01.093966] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T13:04:36.161722] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T13:08:36.185226] [SCALING] Scaling step on node pico2-0 finished. Marking node as full.
[0m[2025-01-17T13:08:41.211366] [SCALING] Next node: pico2-1

[0m[2025-01-17T13:08:41.222334] =========================================================== Step 3 ===========================================================
[0m[2025-01-17T13:08:41.222356] [SCALING] Scaling on node : pico
[0m[2025-01-17T13:08:41.222369] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T13:08:41.227211] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T13:08:41.236207] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 107, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T13:08:41.246603] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 110 replica.
[0m[2025-01-17T13:08:46.264307] [SCALING] ************************************ Adding 110 replicas ************************************
[0m[2025-01-17T13:08:46.264336] [FLK_MGR] Running job.
[0m[2025-01-17T13:08:46.264341] [FLK_MGR] Rescaling job to 110.
[0m[2025-01-17T13:08:47.011354] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 9506839096aa0438f69db839ed1ddc13'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T13:08:53.051180] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-950683-083469d988fa
[0m[2025-01-17T13:09:12.817313] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-950683-083469d988fa -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T13:09:15.621589] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 110.
[0m[2025-01-17T13:09:15.621629] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 110
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 18498d13a07c1da8f1198adab4e3a463

[0m[2025-01-17T13:09:15.621650] [FLK_MGR] Running job id: 18498d13a07c1da8f1198adab4e3a463
[0m[2025-01-17T13:09:15.621660] [FLK_MGR] Getting job info.
[0m[2025-01-17T13:09:15.627950] [FLK_MGR] Job plan response: {"plan":{"jid":"18498d13a07c1da8f1198adab4e3a463","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":110,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T13:09:15.628167] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T13:09:16.381512] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-gx56s
[0m[2025-01-17T13:09:17.829724] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 13:09:15 : 18498d13a07c1da8f1198adab4e3a463 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T13:09:17.829778] [FLK_MGR] Running jobs: ['18498d13a07c1da8f1198adab4e3a463']
[0m[2025-01-17T13:09:17.829785] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T13:09:37.870273] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T13:13:37.894442] [SCALING] Scaling step on node pico2-1 finished. Marking node as full.
[0m[2025-01-17T13:13:42.908262] [SCALING] Scaling finished.
[0m[2025-01-17T13:13:42.908355] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T13:13:42.964462] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T13:13:43.013292] [STS_MGR] Resetting taskmanagers.
[0m[2025-01-17T13:13:43.030950] [STS_MGR] StatefulSet flink-taskmanager-l scaled to 0 replica.
[0m[2025-01-17T13:13:43.042854] [STS_MGR] StatefulSet flink-taskmanager-m scaled to 0 replica.
[0m[2025-01-17T13:13:43.055095] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 0 replica.
[0m[2025-01-17T13:13:53.077286] [STS_MGR] StatefulSet flink-taskmanager-xl scaled to 0 replica.
[0m[2025-01-17T13:13:53.091639] [STS_MGR] StatefulSet flink-taskmanager-xxl scaled to 0 replica.
[0m[2025-01-17T13:13:53.126719] [POD_MGR] Pod flink-jobmanager-7d7c784b74-gx56s deleted
[0m[2025-01-17T13:13:55.013088] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T13:13:56.942730] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T13:13:56.942799] Reloading playbook: application/kafka
[0m[2025-01-17T13:14:02.872014] Playbook /app/playbooks/application/kafka.yaml with tag delete executed successfully.
[0m[2025-01-17T13:15:08.792595] Playbook /app/playbooks/application/kafka.yaml with tag create executed successfully.
[0m[2025-01-17T13:15:08.792837] [EXPERIMENT] Run 4 completed. Start: 1737118472, End: 1737119708
[0m[2025-01-17T13:15:08.792845] [EXPERIMENT] Sleeping for 10 seconds before next run.
[0m[2025-01-17T13:15:18.793932] [EXPERIMENT] =================================== Starting run 5 ===================================
[0m[2025-01-17T13:15:20.665287] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T13:15:22.554286] Playbook /app/playbooks/application/load_generators.yaml with tag create executed successfully.
[0m[2025-01-17T13:15:22.554366] [SCALING] Setting up experiment.


[0m[2025-01-17T13:15:22.554377] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T13:15:22.559667] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T13:15:22.571866] [SCALING] First node: paradoxe-7.rennes.grid5000.fr

[0m[2025-01-17T13:15:22.587991] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T13:15:22.597644] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 52 replica.
[0m[2025-01-17T13:15:27.607158] [FLK_MGR] Running job.
[0m[2025-01-17T13:15:27.607189] [FLK_MGR] Starting job with 52 parallelism.
[0m[2025-01-17T13:15:28.276990] [POD_MGR] Running command ['/bin/sh', '-c', 'flink run -d -j /tmp/jobs/myjoin-transscale-all.jar --start_par 52'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:15:32.380287] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Job has been submitted with JobID d6e1788f0a15980c453f2789d4371af8

[0m[2025-01-17T13:15:32.380334] [FLK_MGR] Running job id: d6e1788f0a15980c453f2789d4371af8
[0m[2025-01-17T13:15:32.380341] [FLK_MGR] Getting job info.
[0m[2025-01-17T13:15:32.398572] [FLK_MGR] Job plan response: {"plan":{"jid":"d6e1788f0a15980c453f2789d4371af8","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":52,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T13:15:32.398740] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T13:15:33.042791] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:15:34.487178] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 13:15:31 : d6e1788f0a15980c453f2789d4371af8 : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T13:15:34.487230] [FLK_MGR] Running jobs: ['d6e1788f0a15980c453f2789d4371af8']
[0m[2025-01-17T13:15:34.487237] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T13:15:34.487246] [SCALING] First iteration after setup, just waiting...
[0m[2025-01-17T13:19:34.510891] [SCALING] Scaling started.
[0m[2025-01-17T13:19:34.510988] [SCALING] First node and first taskmanager already scaled, mark node as full. Continue to next step.

[0m[2025-01-17T13:19:34.531509] [SCALING] Next node: paradoxe-8.rennes.grid5000.fr

[0m[2025-01-17T13:19:34.542337] =========================================================== Step 1 ===========================================================
[0m[2025-01-17T13:19:34.542353] [SCALING] Scaling on node : grid5000
[0m[2025-01-17T13:19:34.542362] [SCALING] Adding 52 replicas of s taskmanager.
[0m[2025-01-17T13:19:34.547227] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T13:19:34.556540] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 52, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T13:19:34.567519] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 104 replica.
[0m[2025-01-17T13:19:39.586051] [SCALING] ************************************ Adding 104 replicas ************************************
[0m[2025-01-17T13:19:39.586083] [FLK_MGR] Running job.
[0m[2025-01-17T13:19:39.586088] [FLK_MGR] Rescaling job to 104.
[0m[2025-01-17T13:19:40.348502] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d d6e1788f0a15980c453f2789d4371af8'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:19:47.944130] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d d6e1788f0a15980c453f2789d4371af8'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:19:55.170826] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d d6e1788f0a15980c453f2789d4371af8'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:20:03.427653] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d d6e1788f0a15980c453f2789d4371af8'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:20:12.676994] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d d6e1788f0a15980c453f2789d4371af8'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:20:15.442832] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-d6e178-e0dce0360653
[0m[2025-01-17T13:20:39.211905] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-d6e178-e0dce0360653 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:20:42.329897] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 104.
[0m[2025-01-17T13:20:42.329939] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:104;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 104
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 2cf84b379f889235fc8c5931ea77e141

[0m[2025-01-17T13:20:42.329959] [FLK_MGR] Running job id: 2cf84b379f889235fc8c5931ea77e141
[0m[2025-01-17T13:20:42.329965] [FLK_MGR] Getting job info.
[0m[2025-01-17T13:20:42.336906] [FLK_MGR] Job plan response: {"plan":{"jid":"2cf84b379f889235fc8c5931ea77e141","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":104,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T13:20:42.337082] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T13:20:43.026034] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:20:44.670238] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 13:20:42 : 2cf84b379f889235fc8c5931ea77e141 : myjoin-transscale-0.0.1 (RUNNING)
--------------------------------------------------------------
[0m[2025-01-17T13:20:44.670320] [FLK_MGR] Running jobs: ['2cf84b379f889235fc8c5931ea77e141']
[0m[2025-01-17T13:20:44.670330] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T13:20:44.677537] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T13:24:44.702160] [SCALING] Scaling step on node paradoxe-8.rennes.grid5000.fr finished. Marking node as full.
[0m[2025-01-17T13:24:49.732538] [SCALING] Next node: pico2-0

[0m[2025-01-17T13:24:49.744164] =========================================================== Step 2 ===========================================================
[0m[2025-01-17T13:24:49.744189] [SCALING] Scaling on node : pico
[0m[2025-01-17T13:24:49.744208] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T13:24:49.749613] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T13:24:49.759685] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 104, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T13:24:49.769698] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 107 replica.
[0m[2025-01-17T13:24:54.788420] [SCALING] ************************************ Adding 107 replicas ************************************
[0m[2025-01-17T13:24:54.788453] [FLK_MGR] Running job.
[0m[2025-01-17T13:24:54.788458] [FLK_MGR] Rescaling job to 107.
[0m[2025-01-17T13:24:55.569437] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d 2cf84b379f889235fc8c5931ea77e141'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:24:59.602025] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-2cf84b-db70f67bec52
[0m[2025-01-17T13:25:19.358880] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-2cf84b-db70f67bec52 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:25:22.353011] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 107.
[0m[2025-01-17T13:25:22.353052] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:107;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 107
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID ed7b3e1a864367d74db6f1e5325a6eba

[0m[2025-01-17T13:25:22.353078] [FLK_MGR] Running job id: ed7b3e1a864367d74db6f1e5325a6eba
[0m[2025-01-17T13:25:22.353087] [FLK_MGR] Getting job info.
[0m[2025-01-17T13:25:22.359472] [FLK_MGR] Job plan response: {"plan":{"jid":"ed7b3e1a864367d74db6f1e5325a6eba","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":107,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T13:25:22.359648] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T13:25:23.118556] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:25:24.607765] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 13:25:22 : ed7b3e1a864367d74db6f1e5325a6eba : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T13:25:24.607833] [FLK_MGR] Running jobs: ['ed7b3e1a864367d74db6f1e5325a6eba']
[0m[2025-01-17T13:25:24.607847] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T13:25:44.650974] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T13:29:44.675071] [SCALING] Scaling step on node pico2-0 finished. Marking node as full.
[0m[2025-01-17T13:29:49.701872] [SCALING] Next node: pico2-1

[0m[2025-01-17T13:29:49.711810] =========================================================== Step 3 ===========================================================
[0m[2025-01-17T13:29:49.711829] [SCALING] Scaling on node : pico
[0m[2025-01-17T13:29:49.711838] [SCALING] Adding 3 replicas of s taskmanager.
[0m[2025-01-17T13:29:49.716706] [SCALING] Statefulset name to scale : flink-taskmanager-s
[0m[2025-01-17T13:29:49.725809] [SCALING] Current taskmanagers count: {'flink-taskmanager-l': 0, 'flink-taskmanager-m': 0, 'flink-taskmanager-s': 107, 'flink-taskmanager-xl': 0, 'flink-taskmanager-xxl': 0}
[0m[2025-01-17T13:29:49.734907] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 110 replica.
[0m[2025-01-17T13:29:54.752941] [SCALING] ************************************ Adding 110 replicas ************************************
[0m[2025-01-17T13:29:54.752974] [FLK_MGR] Running job.
[0m[2025-01-17T13:29:54.752980] [FLK_MGR] Rescaling job to 110.
[0m[2025-01-17T13:29:55.590368] [POD_MGR] Running command ['/bin/sh', '-c', 'flink stop -p -d ed7b3e1a864367d74db6f1e5325a6eba'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:30:01.652772] [FLK_MGR] Savepoint path: s3://flink-bucket/savepoints/savepoint-ed7b3e-dc82ec8535f0
[0m[2025-01-17T13:30:21.419001] [POD_MGR] Running command ['/bin/sh', '-c', "flink run -d -s s3://flink-bucket/savepoints/savepoint-ed7b3e-dc82ec8535f0 -j /tmp/jobs/myjoin-transscale-all.jar --parmap 'Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1'"] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:30:24.359341] [FLK_MGR] Operator TumblingEventTimeWindows rescaled to 110.
[0m[2025-01-17T13:30:24.359376] [FLK_MGR] Job run response: ERROR StatusLogger Reconfiguration failed: No configuration found for '37f8bb67' at 'null' in 'null'
ERROR StatusLogger Reconfiguration failed: No configuration found for '34e9fd99' at 'null' in 'null'
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator (file:/opt/flink/lib/flink-dist-1.20.0.jar) to field java.util.Collections$UnmodifiableMap.m
WARNING: Please consider reporting this to the maintainers of org.apache.flink.streaming.runtime.translators.DataStreamV2SinkTransformationTranslator
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
KAFKA_BOOTSTRAP_SERVERS: kafka-service.kafka.svc.cluster.local:9092
SCHEMA_REGISTRY_URL: http://schema-registry-service.kafka.svc.cluster.local:8081
KAFKA_INPUT_TOPIC1: input-topic1
KAFKA_INPUT_TOPIC2: input-topic2
JOB_WINDOW_SIZE: 1000
CHECKPOINTING: true
FIB_INPUT: 18
Starting JoinApplication.
Sink__Sink:1;Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks:110;Timestamps/Watermarks+-_Map:1;Source__Source1:1;Source__Source2:1
Sink__Sink --> 1
Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks --> 110
Timestamps/Watermarks+-_Map --> 1
Source__Source1 --> 1
Source__Source2 --> 1
Job has been submitted with JobID 883f88e312a0b02c7b1b0a56f6f59857

[0m[2025-01-17T13:30:24.359395] [FLK_MGR] Running job id: 883f88e312a0b02c7b1b0a56f6f59857
[0m[2025-01-17T13:30:24.359401] [FLK_MGR] Getting job info.
[0m[2025-01-17T13:30:24.365756] [FLK_MGR] Job plan response: {"plan":{"jid":"883f88e312a0b02c7b1b0a56f6f59857","name":"myjoin-transscale-0.0.1","type":"STREAMING","nodes":[{"id":"41a95396e613c9f62f1da16142d5ddd2","parallelism":1,"operator":"","operator_strategy":"","description":"Sink: Sink<br/>","inputs":[{"num":0,"id":"32f0ffe0b6f0b990239bb81cec28b9d8","ship_strategy":"REBALANCE","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"32f0ffe0b6f0b990239bb81cec28b9d8","parallelism":110,"operator":"","operator_strategy":"","description":"Window(TumblingEventTimeWindows(1000), EventTimeTrigger, TimeEvictor, CoGroupWindowFunction)<br/>+- Timestamps/Watermarks<br/>","inputs":[{"num":0,"id":"31ec045e3401e87fc7879b43d8e8625d","ship_strategy":"HASH","exchange":"pipelined_bounded"},{"num":1,"id":"e926317ddf99720773e3c7f4f412c3d7","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"31ec045e3401e87fc7879b43d8e8625d","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"dca33db40b2f8f122636cd5297c0c511","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"dca33db40b2f8f122636cd5297c0c511","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source1<br/>","optimizer_properties":{}},{"id":"e926317ddf99720773e3c7f4f412c3d7","parallelism":1,"operator":"","operator_strategy":"","description":"Timestamps/Watermarks<br/>+- Map<br/>","inputs":[{"num":0,"id":"9c7327831b3b5b4ae2c580979f474a9c","ship_strategy":"HASH","exchange":"pipelined_bounded"}],"optimizer_properties":{}},{"id":"9c7327831b3b5b4ae2c580979f474a9c","parallelism":1,"operator":"","operator_strategy":"","description":"Source: Source2<br/>","optimizer_properties":{}}]}}
[0m[2025-01-17T13:30:24.365894] [FLK_MGR] Current operator names: dict_keys(['Sink__Sink', 'Window(TumblingEventTimeWindows(1000),_EventTimeTrigger,_TimeEvictor,_CoGroupWindowFunction)+-_Timestamps/Watermarks', 'Timestamps/Watermarks+-_Map', 'Source__Source1', 'Source__Source2'])
[0m[2025-01-17T13:30:25.117576] [POD_MGR] Running command ['/bin/sh', '-c', 'flink list -r 2>/dev/null'] on pod flink-jobmanager-7d7c784b74-rgn7k
[0m[2025-01-17T13:30:26.601457] [FLK_MGR] Running jobs: Waiting for response...
------------------ Running/Restarting Jobs -------------------
17.01.2025 13:30:24 : 883f88e312a0b02c7b1b0a56f6f59857 : myjoin-transscale-0.0.1 (RESTARTING)
--------------------------------------------------------------
[0m[2025-01-17T13:30:26.601519] [FLK_MGR] Running jobs: ['883f88e312a0b02c7b1b0a56f6f59857']
[0m[2025-01-17T13:30:26.601527] [FLK_MGR] Total jobs cancelled: 0
[0m[2025-01-17T13:30:46.636131] [SCALING] Monitoring interval: for 240 seconds
[0m[2025-01-17T13:34:46.658340] [SCALING] Scaling step on node pico2-1 finished. Marking node as full.
[0m[2025-01-17T13:34:51.670565] [SCALING] Scaling finished.
[0m[2025-01-17T13:34:51.670802] [NODE_MGR] Resetting scaling labels to unschedulable.
[0m[2025-01-17T13:34:51.724237] [NODE_MGR] Resetting state labels.
[0m[2025-01-17T13:34:51.776011] [STS_MGR] Resetting taskmanagers.
[0m[2025-01-17T13:34:51.794310] [STS_MGR] StatefulSet flink-taskmanager-l scaled to 0 replica.
[0m[2025-01-17T13:34:51.806853] [STS_MGR] StatefulSet flink-taskmanager-m scaled to 0 replica.
[0m[2025-01-17T13:34:51.822035] [STS_MGR] StatefulSet flink-taskmanager-s scaled to 0 replica.
[0m[2025-01-17T13:35:01.848278] [STS_MGR] StatefulSet flink-taskmanager-xl scaled to 0 replica.
[0m[2025-01-17T13:35:01.861538] [STS_MGR] StatefulSet flink-taskmanager-xxl scaled to 0 replica.
[0m[2025-01-17T13:35:01.887130] [POD_MGR] Pod flink-jobmanager-7d7c784b74-rgn7k deleted
[0m[2025-01-17T13:35:03.789300] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T13:35:05.698272] Playbook /app/playbooks/application/load_generators.yaml with tag delete executed successfully.
[0m[2025-01-17T13:35:05.698342] Reloading playbook: application/kafka
[0m[2025-01-17T13:35:11.655823] Playbook /app/playbooks/application/kafka.yaml with tag delete executed successfully.
[0m[2025-01-17T13:35:57.637933] Playbook /app/playbooks/application/kafka.yaml with tag create executed successfully.
[0m[2025-01-17T13:35:57.638135] [EXPERIMENT] Run 5 completed. Start: 1737119718, End: 1737120957
[0m[2025-01-17T13:35:57.638142] [EXPERIMENT] Sleeping for 10 seconds before next run.
[0m[2025-01-17T13:36:07.639338] [FSM] Run phase complete, transitioning to finishing.
[0m[2025-01-17T13:36:07.639624] [FSM] Finish phase started.
[0m[2025-01-17T13:36:07.639646] [FSM] State is States.FINISHING
[0m[2025-01-17T13:36:07.639843] FolderManager initialized with base path: /experiment-volume. Date: None
